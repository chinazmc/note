# 交易者效应
物理学中有一个叫作观察者效应（observer effect）的概念，它的意思是，衡量一种现象的行为有时候也会影响这种现象，观察者的观察行为反而打扰了他们的试验。类似的事情也会发生在交易世界中：交易行为本身有可能改变交易赖以成功的潜在市场状态。我称之为交易者效应。任何一件不断重复的事情都有可能被市场参与者注意到。同样的，一种在近期表现得特别突出的策略也很有可能被诸多交易者注意到。但是，如果太多的交易者都开始尝试着利用同一种策略，这种策略将不再像从前那样有效。

请注意，交易者效应在任何情况下都有可能发生，不一定是某些交易者故意抢先行动的结果。只要有太多的交易者不约而同地试图利用某种市场现象，这种现象的优势就会被毁掉，至少在一段时间内不再有效，因为众多交易者的定单会削弱它的优势。这个问题在套利类交易中尤其普遍，因为这种交易的优势是相对较小的。

# 随机效应
如果我们加入一点优势因素，结果会怎么样？如果我们加入唐奇安趋势系统中的那种趋势过滤器，把这个系统变得类似于一个趋势跟踪系统，结果会怎么样？这样一改，我们的入市决策还是随机性的，但前提是入市行动只能与大趋势的方向一致。这是个有趣的问题，因为无论你观察哪些趋势跟踪基金的表现，你都会发现它们良莠不齐，差异极大。如果某个基金表现得高人一筹，它的管理者当然会说这是卓越的交易策略和执行能力的结果。实际上，超常的表现也可能源于随机效应，而不是什么卓越的策略。如果你考虑一下这样的随机效应在系统有优势的情况下还能有多大的影响，你就能更好地理解这一点。

运气或者说随机性因素对交易者和基金的表现有举足轻重的影响，尽管那些交易精英们不愿意对他们的投资者们承认这一点。历史表现在投资者眼中就是响当当的硬证据，但实际上并没有那么硬。比如，如果你投资于某个基金，你一般希望这个基金的未来表现仍可以像过去一样好。问题是，历史表现的好坏也是有运气成分的。有的基金管理得确实很出色，但运气一般；有的基金管理得很一般，但运气很好。如果只盯着历史记录，你是分不清实力与运气的。随机效应太大、太普遍，所以你不可能得出确凿无疑的结论。

# 过度拟合或曲线拟合
让我们把这条新法则添加到系统中。这个法则有两个需要最优化的参数：一是头寸压缩的百分比，二是开始头寸压缩的衰落限制标准。根据模拟出的净值曲线，我决定在衰落幅度达到38%的情况下把头寸减小90%。添加这条法则大大提高了系统的表现，回报率从没有这条法则时的41.4%上升到了45.7%，最大衰落从56%下降到了39.2%，MAR比率从0.74上升到了1.17。你可能会想：“这是个很棒的法则，系统大有改善。”事实上，你完全错了！问题在于，这个法则在整个测试期内只有这一次发挥作用。它发生在测试期马上就要结束的时候，而我加入这条法则是因为我已经知道了净值曲线的形状。因此，系统已经被有意地进行了数据拟合。“这有什么大不了的？”你可能会问。那就让我们看看图11-6，也就是不同衰落限制下的MAR比率。很明显，当我们把衰落限制下降到37%以下时，系统的表现急转直下。事实上，衰落限制只下调了1%，系统就从每年赢利45.7%陡然变为每年亏损0.4%。原因何在？原来，下调衰落限制后，这个法则将在1996年8月间生效，导致我们把头寸规模大幅削减，以至于后期赢利太少，没能从衰落中恢复元气。由此可见，这条法则并没有那么好。它在第一次试验中有效仅仅是因为那次衰落发生在测试期即将结束的时候，头寸削减对后期表现的影响并没有体现出来。参数值的微小变化却引发了交易结果的剧烈变化，这种现象被交易者们称为峭壁（cliff）。峭壁的出现是个很好的信号，这证明你可能已经犯了过度拟合的错误，而且你的实际交易结果可能会与测试中的结果大相径庭。峭壁现象也是我们认为参数最优化有益的原因之一：通过最优化程序，你可以发现峭壁，在开始交易之前就修正这个问题。