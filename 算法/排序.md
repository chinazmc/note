#review/first_101_ç®—æ³• 

```java
/**  
 * å‰‘æŒ‡ Offer 45. æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•° 
 * * è¾“å…¥ä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ï¼ŒæŠŠæ•°ç»„é‡Œæ‰€æœ‰æ•°å­—æ‹¼æ¥èµ·æ¥æ’æˆä¸€ä¸ªæ•°ï¼Œæ‰“å°èƒ½æ‹¼æ¥å‡ºçš„æ‰€æœ‰æ•°å­—ä¸­æœ€å°çš„ä¸€ä¸ªã€‚ 
 * * * ç¤ºä¾‹ 1: 
 * * * è¾“å…¥: [10,2] 
 * * è¾“å‡º: "102" 
 * * ç¤ºä¾‹ 2: 
 * * * è¾“å…¥: [3,30,34,5,9] 
 * * è¾“å‡º: "3033459" 
 * * * æç¤º: 
 * * 0 < nums.length <= 100 
 * * è¯´æ˜: 
 * * è¾“å‡ºç»“æœå¯èƒ½éå¸¸å¤§ï¼Œæ‰€ä»¥ä½ éœ€è¦è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²è€Œä¸æ˜¯æ•´æ•° 
 * * æ‹¼æ¥èµ·æ¥çš„æ•°å­—å¯èƒ½ä¼šæœ‰å‰å¯¼ 0ï¼Œæœ€åç»“æœä¸éœ€è¦å»æ‰å‰å¯¼ 0 
 * * */
```
?
```java
/*
æ­¤é¢˜æ±‚æ‹¼æ¥èµ·æ¥çš„æœ€å°æ•°å­—ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ’åºé—®é¢˜ã€‚è®¾æ•°ç»„ numsnums ä¸­ä»»æ„ä¸¤æ•°å­—çš„å­—ç¬¦ä¸²ä¸º x å’Œ y ï¼Œåˆ™è§„å®š æ’åºåˆ¤æ–­è§„åˆ™ ä¸ºï¼š

è‹¥æ‹¼æ¥å­—ç¬¦ä¸² x+y>y+x ï¼Œåˆ™ x â€œå¤§äºâ€ y ï¼›
åä¹‹ï¼Œè‹¥ x+y<y+x ï¼Œåˆ™ x â€œå°äºâ€ y ï¼›
x â€œå°äºâ€ y ä»£è¡¨ï¼šæ’åºå®Œæˆåï¼Œæ•°ç»„ä¸­ x åº”åœ¨ y å·¦è¾¹ï¼›â€œå¤§äºâ€ åˆ™åä¹‹ã€‚
*/

public class MinNumber {  
    public String minNumber(int[] nums) {  
        String[] strs = new String[nums.length];  
        for(int i = 0; i < nums.length; i++)  
            strs[i] = String.valueOf(nums[i]);  
        quickSort(strs, 0, strs.length - 1);  
        StringBuilder res = new StringBuilder();  
        for(String s : strs)  
            res.append(s);  
        return res.toString();  
    }  
    void quickSort(String[] strs, int l, int r) {  
        if(l >= r) return;  
        int i = l, j = r;  
        String tmp = strs[i];  
        while(i < j) {  
            while((strs[j] + strs[l]).compareTo(strs[l] + strs[j]) >= 0 && i < j) j--;  
            while((strs[i] + strs[l]).compareTo(strs[l] + strs[i]) <= 0 && i < j) i++;  
            tmp = strs[i];  
            strs[i] = strs[j];  
            strs[j] = tmp;  
        }  
        strs[i] = strs[l];  
        strs[l] = tmp;  
        quickSort(strs, l, i - 1);  
        quickSort(strs, i + 1, r);  
    }  
    public void otherQuickSort(String[] strs, int low, int high) {  
        if (low < high) {  
            int middle = getMiddle(strs, low, high);  
            quickSort(strs, low, middle - 1);  
            quickSort(strs, middle + 1, high);  
        }  
    }  
  
    public int getMiddle(String[] strs, int low, int high) {  
        //æ•°ç»„çš„ç¬¬ä¸€ä¸ªæ•°ä¸ºåŸºå‡†å…ƒç´   
        String temp = strs[low];  
        while (low < high) {  
            //ä»åå‘å‰æ‰¾æ¯”åŸºå‡†å°çš„æ•°  
            while (low < high && (strs[high] + temp).compareTo(temp + strs[high]) >= 0)  
                high--;  
            //æŠŠæ¯”åŸºå‡†å°çš„æ•°ç§»åˆ°ä½ç«¯  
            strs[low] = strs[high];  
            //ä»å‰å‘åæ‰¾æ¯”åŸºå‡†å¤§çš„æ•°  
            while (low < high && (strs[low] + temp).compareTo(temp + strs[low]) <= 0)  
                low++;  
            //æŠŠæ¯”åŸºå‡†å¤§çš„æ•°ç§»åˆ°é«˜ç«¯  
            strs[high] = strs[low];  
        }  
        strs[low] = temp;  
        return low;  
    }  
}
```

```java
/*  
å‰‘æŒ‡ Offer 61. æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­  
ä»è‹¥å¹²å‰¯æ‰‘å…‹ç‰Œä¸­éšæœºæŠ½ 5 å¼ ç‰Œï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯ä¸€ä¸ªé¡ºå­ï¼Œå³è¿™5å¼ ç‰Œæ˜¯ä¸æ˜¯è¿ç»­çš„ã€‚2ï½10ä¸ºæ•°å­—æœ¬èº«ï¼ŒAä¸º1ï¼ŒJä¸º11ï¼ŒQä¸º12ï¼ŒKä¸º13ï¼Œè€Œå¤§ã€å°ç‹ä¸º 0 ï¼Œå¯ä»¥çœ‹æˆä»»æ„æ•°å­—ã€‚A ä¸èƒ½è§†ä¸º 14ã€‚  
  
ç¤ºä¾‹ 1:  
è¾“å…¥: [1,2,3,4,5]  
è¾“å‡º: True  
  
ç¤ºä¾‹ 2:  
è¾“å…¥: [0,0,1,2,5]  
è¾“å‡º: True  
  
é™åˆ¶ï¼š  
æ•°ç»„é•¿åº¦ä¸º 5  
æ•°ç»„çš„æ•°å–å€¼ä¸º [0, 13] .  
* */
```
?
```java
//    è§£é¢˜æ€è·¯ï¼š  
//    æ ¹æ®é¢˜æ„ï¼Œæ­¤ 5 å¼ ç‰Œæ˜¯é¡ºå­çš„ å……åˆ†æ¡ä»¶ å¦‚ä¸‹ï¼š  
//    é™¤å¤§å°ç‹å¤–ï¼Œæ‰€æœ‰ç‰Œ æ— é‡å¤ ï¼›  
//    è®¾æ­¤ 5 å¼ ç‰Œä¸­æœ€å¤§çš„ç‰Œä¸º max ï¼Œæœ€å°çš„ç‰Œä¸º min ï¼ˆå¤§å°ç‹é™¤å¤–ï¼‰ï¼Œåˆ™éœ€æ»¡è¶³ï¼š  
//    maxâˆ’min<5  
//    æ–¹æ³•ä¸€ï¼š é›†åˆ Set + éå†  
//    éå†äº”å¼ ç‰Œï¼Œé‡åˆ°å¤§å°ç‹ï¼ˆå³ 0 ï¼‰ç›´æ¥è·³è¿‡ã€‚  
//    åˆ¤åˆ«é‡å¤ï¼š åˆ©ç”¨ Set å®ç°éå†åˆ¤é‡ï¼Œ Set çš„æŸ¥æ‰¾æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1) ï¼›  
//    è·å–æœ€å¤§ / æœ€å°çš„ç‰Œï¼š å€ŸåŠ©è¾…åŠ©å˜é‡ ma å’Œ mi ï¼Œéå†ç»Ÿè®¡å³å¯ã€‚  
//    å¤æ‚åº¦åˆ†æï¼š  
//    æ—¶é—´å¤æ‚åº¦ O(N)=O(5)=O(1) ï¼š å…¶ä¸­ N ä¸º nums é•¿åº¦ï¼Œæœ¬é¢˜ä¸­ Nâ‰¡5 ï¼›éå†æ•°ç»„ä½¿ç”¨ O(N) æ—¶é—´ã€‚  
//    ç©ºé—´å¤æ‚åº¦ O(N)=O(5)=O(1) ï¼š ç”¨äºåˆ¤é‡çš„è¾…åŠ© Set ä½¿ç”¨ O(N) é¢å¤–ç©ºé—´ã€‚  
    public boolean isStraight(int[] nums) {  
        Set<Integer> repeat = new HashSet<>();  
        int max = 0, min = 14;  
        for(int num : nums) {  
            if(num == 0) continue; // è·³è¿‡å¤§å°ç‹  
            max = Math.max(max, num); // æœ€å¤§ç‰Œ  
            min = Math.min(min, num); // æœ€å°ç‰Œ  
            if(repeat.contains(num)) return false; // è‹¥æœ‰é‡å¤ï¼Œæå‰è¿”å› false  
            repeat.add(num); // æ·»åŠ æ­¤ç‰Œè‡³ Set  
        }  
        return max - min < 5; // æœ€å¤§ç‰Œ - æœ€å°ç‰Œ < 5 åˆ™å¯æ„æˆé¡ºå­  
    }
//    æ–¹æ³•äºŒï¼šæ’åº + éå†  
//    å…ˆå¯¹æ•°ç»„æ‰§è¡Œæ’åºã€‚  
//    åˆ¤åˆ«é‡å¤ï¼š æ’åºæ•°ç»„ä¸­çš„ç›¸åŒå…ƒç´ ä½ç½®ç›¸é‚»ï¼Œå› æ­¤å¯é€šè¿‡éå†æ•°ç»„ï¼Œåˆ¤æ–­ nums[i]=nums[i+1] æ˜¯å¦æˆç«‹æ¥åˆ¤é‡ã€‚  
//    è·å–æœ€å¤§ / æœ€å°çš„ç‰Œï¼š æ’åºåï¼Œæ•°ç»„æœ«ä½å…ƒç´  nums[4] ä¸ºæœ€å¤§ç‰Œï¼›å…ƒç´  nums[joker] ä¸ºæœ€å°ç‰Œï¼Œå…¶ä¸­ joker ä¸ºå¤§å°ç‹çš„æ•°é‡ã€‚  
//    å¤æ‚åº¦åˆ†æï¼š  
//    æ—¶é—´å¤æ‚åº¦ O(NlogN)=O(5log5)=O(1) ï¼š å…¶ä¸­ N ä¸º nums é•¿åº¦ï¼Œæœ¬é¢˜ä¸­Nâ‰¡5 ï¼›æ•°ç»„æ’åºä½¿ç”¨ O(NlogN) æ—¶é—´ã€‚  
//    ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å˜é‡ joker ä½¿ç”¨ O(1) å¤§å°çš„é¢å¤–ç©ºé—´ã€‚  
public boolean isStraight1(int[] nums) {  
    int joker = 0;  
    Arrays.sort(nums); // æ•°ç»„æ’åº  
    for(int i = 0; i < 4; i++) {  
        if(nums[i] == 0) joker++; // ç»Ÿè®¡å¤§å°ç‹æ•°é‡  
        else if(nums[i] == nums[i + 1]) return false; // è‹¥æœ‰é‡å¤ï¼Œæå‰è¿”å› false  
    }  
    return nums[4] - nums[joker] < 5; // æœ€å¤§ç‰Œ - æœ€å°ç‰Œ < 5 åˆ™å¯æ„æˆé¡ºå­  
}

```
<!--SR:!2022-10-05,69,310-->

```java
/*  
å‰‘æŒ‡ Offer 40. æœ€å°çš„kä¸ªæ•°  
è¾“å…¥æ•´æ•°æ•°ç»„ arr ï¼Œæ‰¾å‡ºå…¶ä¸­æœ€å°çš„ k ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼Œè¾“å…¥4ã€5ã€1ã€6ã€2ã€7ã€3ã€8è¿™8ä¸ªæ•°å­—ï¼Œåˆ™æœ€å°çš„4ä¸ªæ•°å­—æ˜¯1ã€2ã€3ã€4ã€‚  
  
ç¤ºä¾‹ 1ï¼š  
è¾“å…¥ï¼šarr = [3,2,1], k = 2  
è¾“å‡ºï¼š[1,2] æˆ–è€… [2,1]  
ç¤ºä¾‹ 2ï¼š  
è¾“å…¥ï¼šarr = [0,1,2,1], k = 1  
è¾“å‡ºï¼š[0]  
  
é™åˆ¶ï¼š  
0 <= k <= arr.length <= 10000  
0 <= arr[i] <= 10000  
* */
```
?
```java
public class GetLeastNumbers {  
//    ä¸€ã€ç”¨å¿«æ’æœ€æœ€æœ€é«˜æ•ˆè§£å†³ TopK é—®é¢˜ï¼šO(N)  
//    æ³¨æ„æ‰¾å‰ K å¤§/å‰ K å°é—®é¢˜ä¸éœ€è¦å¯¹æ•´ä¸ªæ•°ç»„è¿›è¡Œ O(NlogN) çš„æ’åºï¼  
//    ä¾‹å¦‚æœ¬é¢˜ï¼Œç›´æ¥é€šè¿‡å¿«æ’åˆ‡åˆ†æ’å¥½ç¬¬ K å°çš„æ•°ï¼ˆä¸‹æ ‡ä¸º K-1ï¼‰ï¼Œé‚£ä¹ˆå®ƒå·¦è¾¹çš„æ•°å°±æ˜¯æ¯”å®ƒå°çš„å¦å¤– K-1 ä¸ªæ•°å•¦ï½  
//    ä¸‹é¢ä»£ç ç»™å‡ºäº†è¯¦ç»†çš„æ³¨é‡Šï¼Œæ²¡å•¥å¥½å•°å—¦çš„ï¼Œå°±æ˜¯å¿«æ’æ¨¡ç‰ˆè¦è®°ç‰¢å“ˆï½  
  
//    å¿«æ’åˆ‡åˆ†æ—¶é—´å¤æ‚åº¦åˆ†æï¼š å› ä¸ºæˆ‘ä»¬æ˜¯è¦æ‰¾ä¸‹æ ‡ä¸ºkçš„å…ƒç´ ï¼Œç¬¬ä¸€æ¬¡åˆ‡åˆ†çš„æ—¶å€™éœ€è¦éå†æ•´ä¸ªæ•°ç»„ (0 ~ n) æ‰¾åˆ°äº†ä¸‹æ ‡æ˜¯ j çš„å…ƒç´ ï¼Œ  
//    å‡å¦‚ k æ¯” j å°çš„è¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸‹æ¬¡åˆ‡åˆ†åªè¦éå†æ•°ç»„ (0~k-1)çš„å…ƒç´ å°±è¡Œå•¦ï¼Œåä¹‹å¦‚æœ k æ¯” j å¤§çš„è¯ï¼Œé‚£ä¸‹æ¬¡åˆ‡åˆ†åªè¦éå†æ•°ç»„ (k+1ï½n) çš„å…ƒç´ å°±è¡Œå•¦ï¼Œ  
//    æ€»ä¹‹å¯ä»¥çœ‹ä½œæ¯æ¬¡è°ƒç”¨ partition éå†çš„å…ƒç´ æ•°ç›®éƒ½æ˜¯ä¸Šä¸€æ¬¡éå†çš„ 1/2ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦æ˜¯ N + N/2 + N/4 + ... + N/N = 2N, å› æ­¤æ—¶é—´å¤æ‚åº¦æ˜¯ O(N)ã€‚  
    public int[] getLeastNumbers(int[] arr, int k) {  
        if (k == 0 || arr.length == 0) {  
            return new int[0];  
        }  
        // æœ€åä¸€ä¸ªå‚æ•°è¡¨ç¤ºæˆ‘ä»¬è¦æ‰¾çš„æ˜¯ä¸‹æ ‡ä¸ºk-1çš„æ•°  
        return quickSearch(arr, 0, arr.length - 1, k - 1);  
    }  
  
    private int[] quickSearch(int[] nums, int lo, int hi, int k) {  
        // æ¯å¿«æ’åˆ‡åˆ†1æ¬¡ï¼Œæ‰¾åˆ°æ’åºåä¸‹æ ‡ä¸ºjçš„å…ƒç´ ï¼Œå¦‚æœjæ°å¥½ç­‰äºkå°±è¿”å›jä»¥åŠjå·¦è¾¹æ‰€æœ‰çš„æ•°ï¼›  
        int j = partition(nums, lo, hi);  
        if (j == k) {  
            return Arrays.copyOf(nums, j + 1);  
        }  
        // å¦åˆ™æ ¹æ®ä¸‹æ ‡jä¸kçš„å¤§å°å…³ç³»æ¥å†³å®šç»§ç»­åˆ‡åˆ†å·¦æ®µè¿˜æ˜¯å³æ®µã€‚  
        return j > k? quickSearch(nums, lo, j - 1, k): quickSearch(nums, j + 1, hi, k);  
    }  
  
    // å¿«æ’åˆ‡åˆ†ï¼Œè¿”å›ä¸‹æ ‡jï¼Œä½¿å¾—æ¯”nums[j]å°çš„æ•°éƒ½åœ¨jçš„å·¦è¾¹ï¼Œæ¯”nums[j]å¤§çš„æ•°éƒ½åœ¨jçš„å³è¾¹ã€‚  
    private int partition(int[] nums, int lo, int hi) {  
        int v = nums[lo];  
        int i = lo, j = hi + 1;  
        while (true) {  
            while (++i <= hi && nums[i] < v);  
            while (--j >= lo && nums[j] > v);  
            if (i >= j) {  
                break;  
            }  
            int t = nums[j];  
            nums[j] = nums[i];  
            nums[i] = t;  
        }  
        nums[lo] = nums[j];  
        nums[j] = v;  
        return j;  
    }  
//    äºŒã€å¤§æ ¹å †(å‰ K å°) / å°æ ¹å †ï¼ˆå‰ K å¤§),Javaä¸­æœ‰ç°æˆçš„ PriorityQueueï¼Œå®ç°èµ·æ¥æœ€ç®€å•ï¼šO(NlogK)  
//    æœ¬é¢˜æ˜¯æ±‚å‰ K å°ï¼Œå› æ­¤ç”¨ä¸€ä¸ªå®¹é‡ä¸º K çš„å¤§æ ¹å †ï¼Œæ¯æ¬¡ poll å‡ºæœ€å¤§çš„æ•°ï¼Œé‚£å †ä¸­ä¿ç•™çš„å°±æ˜¯å‰ K å°å•¦ï¼ˆæ³¨æ„ä¸æ˜¯å°æ ¹å †ï¼å°æ ¹å †çš„è¯éœ€è¦æŠŠå…¨éƒ¨çš„å…ƒç´ éƒ½å…¥å †ï¼Œé‚£æ˜¯ O(NlogN)ğŸ˜‚ï¼Œ  
//    å°±ä¸æ˜¯ O(NlogK)å•¦ï½ï½ï¼‰  
//    è¿™ä¸ªæ–¹æ³•æ¯”å¿«æ’æ…¢ï¼Œä½†æ˜¯å› ä¸º Java ä¸­æä¾›äº†ç°æˆçš„ PriorityQueueï¼ˆé»˜è®¤å°æ ¹å †ï¼‰ï¼Œæ‰€ä»¥å®ç°èµ·æ¥æœ€ç®€å•ï¼Œæ²¡å‡ è¡Œä»£ç ï½  
// ä¿æŒå †çš„å¤§å°ä¸ºKï¼Œç„¶åéå†æ•°ç»„ä¸­çš„æ•°å­—ï¼Œéå†çš„æ—¶å€™åšå¦‚ä¸‹åˆ¤æ–­ï¼š  
// 1. è‹¥ç›®å‰å †çš„å¤§å°å°äºKï¼Œå°†å½“å‰æ•°å­—æ”¾å…¥å †ä¸­ã€‚  
// 2. å¦åˆ™åˆ¤æ–­å½“å‰æ•°å­—ä¸å¤§æ ¹å †å †é¡¶å…ƒç´ çš„å¤§å°å…³ç³»ï¼Œå¦‚æœå½“å‰æ•°å­—æ¯”å¤§æ ¹å †å †é¡¶è¿˜å¤§ï¼Œè¿™ä¸ªæ•°å°±ç›´æ¥è·³è¿‡ï¼›  
//    åä¹‹å¦‚æœå½“å‰æ•°å­—æ¯”å¤§æ ¹å †å †é¡¶å°ï¼Œå…ˆpollæ‰å †é¡¶ï¼Œå†å°†è¯¥æ•°å­—æ”¾å…¥å †ä¸­ã€‚  
    public int[] getLeastNumbers1(int[] arr, int k) {  
        if (k == 0 || arr.length == 0) {  
            return new int[0];  
        }  
        // é»˜è®¤æ˜¯å°æ ¹å †ï¼Œå®ç°å¤§æ ¹å †éœ€è¦é‡å†™ä¸€ä¸‹æ¯”è¾ƒå™¨ã€‚  
        Queue<Integer> pq = new PriorityQueue<>((v1, v2) -> v2 - v1);  
        for (int num: arr) {  
            if (pq.size() < k) {  
                pq.offer(num);  
            } else if (num < pq.peek()) {  
                pq.poll();  
                pq.offer(num);  
            }  
        }  
  
        // è¿”å›å †ä¸­çš„å…ƒç´   
        int[] res = new int[pq.size()];  
        int idx = 0;  
        for(int num: pq) {  
            res[idx++] = num;  
        }  
        return res;  
    }  
//    ä¸‰ã€äºŒå‰æœç´¢æ ‘ä¹Ÿå¯ä»¥ O(NlogK)è§£å†³ TopK é—®é¢˜å“¦  
//    BST ç›¸å¯¹äºå‰ä¸¤ç§æ–¹æ³•æ²¡é‚£ä¹ˆå¸¸è§ï¼Œä½†æ˜¯ä¹Ÿå¾ˆç®€å•ï¼Œå’Œå¤§æ ¹å †çš„æ€è·¯å·®ä¸å¤šï½  
//    è¦æçš„æ˜¯ï¼Œä¸å‰ä¸¤ç§æ–¹æ³•ç›¸æ¯”ï¼ŒBST æœ‰ä¸€ä¸ªå¥½å¤„æ˜¯æ±‚å¾—çš„å‰Kå¤§çš„æ•°å­—æ˜¯æœ‰åºçš„ã€‚  
//  
//    å› ä¸ºæœ‰é‡å¤çš„æ•°å­—ï¼Œæ‰€ä»¥ç”¨çš„æ˜¯ TreeMap è€Œä¸æ˜¯ TreeSetï¼ˆæœ‰çš„è¯­è¨€çš„æ ‡å‡†åº“è‡ªå¸¦ TreeMultisetï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ï¼‰ã€‚  
//  
//    TreeMapçš„key æ˜¯æ•°å­—ï¼Œvalue æ˜¯è¯¥æ•°å­—çš„ä¸ªæ•°ã€‚  
//    æˆ‘ä»¬éå†æ•°ç»„ä¸­çš„æ•°å­—ï¼Œç»´æŠ¤ä¸€ä¸ªæ•°å­—æ€»ä¸ªæ•°ä¸º K çš„ TreeMapï¼š  
//            1.è‹¥ç›®å‰ map ä¸­æ•°å­—ä¸ªæ•°å°äº Kï¼Œåˆ™å°† map ä¸­å½“å‰æ•°å­—å¯¹åº”çš„ä¸ªæ•° +1ï¼›  
//            2.å¦åˆ™ï¼Œåˆ¤æ–­å½“å‰æ•°å­—ä¸ map ä¸­æœ€å¤§çš„æ•°å­—çš„å¤§å°å…³ç³»ï¼šè‹¥å½“å‰æ•°å­—å¤§äºç­‰äº map ä¸­çš„æœ€å¤§æ•°å­—ï¼Œå°±ç›´æ¥è·³è¿‡è¯¥æ•°å­—ï¼›è‹¥å½“å‰æ•°å­—å°äº map ä¸­çš„æœ€å¤§æ•°å­—ï¼Œåˆ™å°† map ä¸­å½“å‰æ•°å­—å¯¹åº”çš„ä¸ªæ•° +1ï¼Œå¹¶å°† map ä¸­æœ€å¤§æ•°å­—å¯¹åº”çš„ä¸ªæ•°å‡ 1ã€‚  
public int[] getLeastNumbers2(int[] arr, int k) {  
    if (k == 0 || arr.length == 0) {  
        return new int[0];  
    }  
    // TreeMapçš„keyæ˜¯æ•°å­—, valueæ˜¯è¯¥æ•°å­—çš„ä¸ªæ•°ã€‚  
    // cntè¡¨ç¤ºå½“å‰mapæ€»å…±å­˜äº†å¤šå°‘ä¸ªæ•°å­—ã€‚    TreeMap<Integer, Integer> map = new TreeMap<>();  
    int cnt = 0;  
    for (int num: arr) {  
        // 1. éå†æ•°ç»„ï¼Œè‹¥å½“å‰mapä¸­çš„æ•°å­—ä¸ªæ•°å°äºkï¼Œåˆ™mapä¸­å½“å‰æ•°å­—å¯¹åº”ä¸ªæ•°+1  
        if (cnt < k) {  
            map.put(num, map.getOrDefault(num, 0) + 1);  
            cnt++;  
            continue;        }  
        // 2. å¦åˆ™ï¼Œå–å‡ºmapä¸­æœ€å¤§çš„Keyï¼ˆå³æœ€å¤§çš„æ•°å­—), åˆ¤æ–­å½“å‰æ•°å­—ä¸mapä¸­æœ€å¤§æ•°å­—çš„å¤§å°å…³ç³»ï¼š  
        //    è‹¥å½“å‰æ•°å­—æ¯”mapä¸­æœ€å¤§çš„æ•°å­—è¿˜å¤§ï¼Œå°±ç›´æ¥å¿½ç•¥ï¼›        //    è‹¥å½“å‰æ•°å­—æ¯”mapä¸­æœ€å¤§çš„æ•°å­—å°ï¼Œåˆ™å°†å½“å‰æ•°å­—åŠ å…¥mapä¸­ï¼Œå¹¶å°†mapä¸­çš„æœ€å¤§æ•°å­—çš„ä¸ªæ•°-1ã€‚        Map.Entry<Integer, Integer> entry = map.lastEntry();  
        if (entry.getKey() > num) {  
            map.put(num, map.getOrDefault(num, 0) + 1);  
            if (entry.getValue() == 1) {  
                map.pollLastEntry();  
            } else {  
                map.put(entry.getKey(), entry.getValue() - 1);  
            }  
        }  
  
    }  
  
    // æœ€åè¿”å›mapä¸­çš„å…ƒç´   
    int[] res = new int[k];  
    int idx = 0;  
    for (Map.Entry<Integer, Integer> entry: map.entrySet()) {  
        int freq = entry.getValue();  
        while (freq-- > 0) {  
            res[idx++] = entry.getKey();  
        }  
    }  
    return res;  
}  
//    å››ã€æ•°æ®èŒƒå›´æœ‰é™æ—¶ç›´æ¥è®¡æ•°æ’åºå°±è¡Œäº†ï¼šO(N)  
public int[] getLeastNumbers3(int[] arr, int k) {  
    if (k == 0 || arr.length == 0) {  
        return new int[0];  
    }  
    // ç»Ÿè®¡æ¯ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°  
    int[] counter = new int[10001];  
    for (int num: arr) {  
        counter[num]++;  
    }  
    // æ ¹æ®counteræ•°ç»„ä»å¤´æ‰¾å‡ºkä¸ªæ•°ä½œä¸ºè¿”å›ç»“æœ  
    int[] res = new int[k];  
    int idx = 0;  
    for (int num = 0; num < counter.length; num++) {  
        while (counter[num]-- > 0 && idx < k) {  
            res[idx++] = num;  
        }  
        if (idx == k) {  
            break;  
        }  
    }  
    return res;  
}  
  
}
```
<!--SR:!2022-08-02,33,252-->

```java
//å‰‘æŒ‡ Offer 41. æ•°æ®æµä¸­çš„ä¸­ä½æ•°  
//        å¦‚ä½•å¾—åˆ°ä¸€ä¸ªæ•°æ®æµä¸­çš„ä¸­ä½æ•°ï¼Ÿå¦‚æœä»æ•°æ®æµä¸­è¯»å‡ºå¥‡æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æ’åºä¹‹åä½äºä¸­é—´çš„æ•°å€¼ã€‚å¦‚æœä»æ•°æ®æµä¸­è¯»å‡ºå¶æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æ’åºä¹‹åä¸­é—´ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼ã€‚  
//  
//        ä¾‹å¦‚ï¼Œ  
//  
//        [2,3,4] çš„ä¸­ä½æ•°æ˜¯ 3  
//  
//        [2,3] çš„ä¸­ä½æ•°æ˜¯ (2 + 3) / 2 = 2.5  
//  
//        è®¾è®¡ä¸€ä¸ªæ”¯æŒä»¥ä¸‹ä¸¤ç§æ“ä½œçš„æ•°æ®ç»“æ„ï¼š  
//  
//        void addNum(int num) - ä»æ•°æ®æµä¸­æ·»åŠ ä¸€ä¸ªæ•´æ•°åˆ°æ•°æ®ç»“æ„ä¸­ã€‚  
//        double findMedian() - è¿”å›ç›®å‰æ‰€æœ‰å…ƒç´ çš„ä¸­ä½æ•°ã€‚  
//        ç¤ºä¾‹ 1ï¼š  
//  
//        è¾“å…¥ï¼š  
//        ["MedianFinder","addNum","addNum","findMedian","addNum","findMedian"]  
//        [[],[1],[2],[],[3],[]]  
//        è¾“å‡ºï¼š[null,null,null,1.50000,null,2.00000]  
//        ç¤ºä¾‹ 2ï¼š  
//  
//        è¾“å…¥ï¼š  
//        ["MedianFinder","addNum","findMedian","addNum","findMedian"]  
//        [[],[2],[],[3],[]]  
//        è¾“å‡ºï¼š[null,null,2.00000,null,2.50000]
```
?
```java
public class MedianFinder {  
    /*  
    è§£é¢˜æ€è·¯ï¼šç»™å®šä¸€é•¿åº¦ä¸º N çš„æ— åºæ•°ç»„ï¼Œå…¶ä¸­ä½æ•°çš„è®¡ç®—æ–¹æ³•ï¼šé¦–å…ˆå¯¹æ•°ç»„æ‰§è¡Œæ’åºï¼ˆä½¿ç”¨ O(NlogN) æ—¶é—´ï¼‰ï¼Œç„¶åè¿”å›ä¸­é—´å…ƒç´ å³å¯ï¼ˆä½¿ç”¨ O(1) æ—¶é—´ï¼‰ã€‚  
é’ˆå¯¹æœ¬é¢˜ï¼Œæ ¹æ®ä»¥ä¸Šæ€è·¯ï¼Œå¯ä»¥å°†æ•°æ®æµä¿å­˜åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Œå¹¶åœ¨æ·»åŠ å…ƒç´ æ—¶ ä¿æŒæ•°ç»„æœ‰åº ã€‚æ­¤æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(N) ï¼Œ  
å…¶ä¸­åŒ…æ‹¬ï¼š æŸ¥æ‰¾å…ƒç´ æ’å…¥ä½ç½® O(logN) ï¼ˆäºŒåˆ†æŸ¥æ‰¾ï¼‰ã€å‘æ•°ç»„æŸä½ç½®æ’å…¥å…ƒç´  O(N) ï¼ˆæ’å…¥ä½ç½®ä¹‹åçš„å…ƒç´ éƒ½éœ€è¦å‘åç§»åŠ¨ä¸€ä½ï¼‰ã€‚  
å€ŸåŠ© å † å¯è¿›ä¸€æ­¥ä¼˜åŒ–æ—¶é—´å¤æ‚åº¦ã€‚  
å»ºç«‹ä¸€ä¸ª å°é¡¶å † A å’Œ å¤§é¡¶å † B ï¼Œå„ä¿å­˜åˆ—è¡¨çš„ä¸€åŠå…ƒç´ ï¼Œä¸”è§„å®šï¼š  
A ä¿å­˜ è¾ƒå¤§ çš„ä¸€åŠï¼Œé•¿åº¦ä¸º äºŒåˆ†ä¹‹Nï¼ˆ N ä¸ºå¶æ•°ï¼‰æˆ– äºŒåˆ†ä¹‹ï¼ˆN+1ï¼‰ï¼ˆ N ä¸ºå¥‡æ•°ï¼‰ï¼›  
B ä¿å­˜ è¾ƒå° çš„ä¸€åŠï¼Œé•¿åº¦ä¸º äºŒåˆ†ä¹‹Nï¼ˆ N ä¸ºå¶æ•°ï¼‰æˆ– äºŒåˆ†ä¹‹ï¼ˆN-1ï¼‰ï¼ˆ N ä¸ºå¥‡æ•°ï¼‰ï¼›  
éšåï¼Œä¸­ä½æ•°å¯ä»…æ ¹æ® A,B çš„å †é¡¶å…ƒç´ è®¡ç®—å¾—åˆ°ã€‚  
  
addNum(num) å‡½æ•°ï¼š  
å½“ m=nï¼ˆå³ N ä¸º å¶æ•°ï¼‰ï¼šéœ€å‘ A æ·»åŠ ä¸€ä¸ªå…ƒç´ ã€‚å®ç°æ–¹æ³•ï¼šå°†æ–°å…ƒç´  num æ’å…¥è‡³ B ï¼Œå†å°† B å †é¡¶å…ƒç´ æ’å…¥è‡³ A ï¼›  
å½“ m != nï¼ˆå³ N ä¸º å¥‡æ•°ï¼‰ï¼šéœ€å‘ B æ·»åŠ ä¸€ä¸ªå…ƒç´ ã€‚å®ç°æ–¹æ³•ï¼šå°†æ–°å…ƒç´  num æ’å…¥è‡³ A ï¼Œå†å°† A å †é¡¶å…ƒç´ æ’å…¥è‡³ B ï¼›  
å‡è®¾æ’å…¥æ•°å­— num é‡åˆ°æƒ…å†µ 1. ã€‚ç”±äº num å¯èƒ½å±äº â€œè¾ƒå°çš„ä¸€åŠâ€ ï¼ˆå³å±äº B ï¼‰ï¼Œå› æ­¤ä¸èƒ½å°† nums ç›´æ¥æ’å…¥è‡³ A ã€‚  
è€Œåº”å…ˆå°† num æ’å…¥è‡³ B ï¼Œå†å°† B å †é¡¶å…ƒç´ æ’å…¥è‡³ A ã€‚è¿™æ ·å°±å¯ä»¥å§‹ç»ˆä¿æŒ A ä¿å­˜è¾ƒå¤§ä¸€åŠã€ B ä¿å­˜è¾ƒå°ä¸€åŠã€‚  
  
    * */    
    Queue<Integer> A, B;  
    public MedianFinder() {  
        A = new PriorityQueue<>(); // å°é¡¶å †ï¼Œä¿å­˜è¾ƒå¤§çš„ä¸€åŠ  
        B = new PriorityQueue<>((x, y) -> (y - x)); // å¤§é¡¶å †ï¼Œä¿å­˜è¾ƒå°çš„ä¸€åŠ  
    }  
    public void addNum(int num) {  
        if(A.size() != B.size()) {  
            A.add(num);  
            B.add(A.poll());  
        } else {  
            B.add(num);  
            A.add(B.poll());  
        }  
    }  
    public double findMedian() {  
        return A.size() != B.size() ? A.peek() : (A.peek() + B.peek()) / 2.0;  
    }  
}
```