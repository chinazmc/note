为了支撑更多样的业务需求，有赞NSQ还在继续完善和丰富更多新特性， 这些特性包括NSQ本身的特性开发，也包括基于NSQ做的外部扩展系统的开发。未来的一段时间，我们计划增加如下值得期待的重要特性。

### 流控

目前有赞有大量的topic都部署在一个大的集群，受益于golang的goroutine模型，每个topic基本都是独立的处理，互相直接影响不大, 但是碰到一些数据量大的情况, 还是会对其他topic造成一定的影响，特别是一些网络流量非常大的 topic，为了降低这种topic流量影响，我们需要限制一些topic的流量上限， 对整个集群的稳定性提供保障。 设计方案上， 我们计划使用业界常用的令牌桶方案。

### 批量订阅

目前的NSQ还是沿用每条消息ack的模式， 保持兼容特性。 性能上虽然满足目前以及未来一段时间的业务需求，但是还有改进的空间。特别是在某些网络延迟较高的场景下，批量订阅可以大大提高吞吐量。批量订阅将会支持一次消费一组消息并且可以一次性ack一组消息，从而减少一定的网络开销。

### 更丰富安全审计功能

原版的NSQ已经支持一部分的安全审计功能, 包括使用安全链接以及使用验证服务器，我们后面将会针对topic的生产和channel的一些操作提供独立的安全验证服务，并做好审计日志，防范一些安全问题。另外针对nsqadmin也会打通内部的统一登录验证，针对性的限制业务的一些危险操作。

### 分布式事务协调器

微服务拆分的痛点就是多个系统之间的一致性保证问题，因此急需一个统一的框架能解决此类问题。分布式事务协调器将会是构建在NSQ基础之上的一个重要产品, 该产品将会充分利用NSQ的一些特性去解决业务的痛点。

### 基于消息内容的消费过滤

虽然目前已经有支持基于消息扩展头进行初步过滤的功能，但是也有些业务需求非常定制化，需要更加复杂的过滤规则，这种情况为了避免给NSQ核心代码带来影响，我们也计划在NSQ之上构建一个更加复杂的过滤系统去做和业务耦合的事情，避免给NSQ注入过多的业务耦合功能.